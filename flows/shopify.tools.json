[
  {
    "id": "shopify-search-products",
    "name": "Search Shopify Products",
    "description": "Search for products in the store catalog using natural language queries",
    "parameters": {
      "query": {
        "type": "string",
        "description": "Natural language search query (e.g., '65 inch TV', 'red dress size medium')"
      },
      "context": {
        "type": "string",
        "description": "Additional context about the search",
        "default": "Customer browsing"
      },
      "limit": {
        "type": "integer",
        "description": "Maximum number of results to return",
        "default": 5
      }
    },
    "required": [
      "query"
    ],
    "additionalProperties": false,
    "implementation": {
      "type": "local",
      "function": "searchShopifyProducts",
      "args": [
        "query",
        "context",
        "limit"
      ],
      "timeout": 10000
    },
    "security": {
      "requiresAuth": false,
      "auditLevel": "low",
      "dataClassification": "public",
      "rateLimit": {
        "requests": 30,
        "window": 60000
      }
    }
  },
  {
    "id": "shopify-get-product",
    "name": "Get Product Details",
    "description": "Get detailed information about a specific product including variants, pricing, and availability",
    "parameters": {
      "productId": {
        "type": "string",
        "description": "Shopify product ID"
      },
      "variantOptions": {
        "type": "object",
        "description": "Optional variant options to select",
        "default": null
      }
    },
    "required": [
      "productId"
    ],
    "additionalProperties": false,
    "implementation": {
      "type": "local",
      "function": "getShopifyProductDetails",
      "args": [
        "productId",
        "variantOptions"
      ],
      "timeout": 5000
    },
    "security": {
      "requiresAuth": false,
      "auditLevel": "low",
      "dataClassification": "public",
      "rateLimit": {
        "requests": 30,
        "window": 60000
      }
    }
  },
  {
    "id": "shopify-get-cart",
    "name": "Get Shopping Cart",
    "description": "Retrieve the current cart contents including items, totals, and checkout URL",
    "parameters": {
      "cartId": {
        "type": "string",
        "description": "Shopify cart ID"
      }
    },
    "required": [
      "cartId"
    ],
    "additionalProperties": false,
    "implementation": {
      "type": "local",
      "function": "getShopifyCart",
      "args": [
        "cartId"
      ],
      "timeout": 5000
    },
    "security": {
      "requiresAuth": false,
      "auditLevel": "low",
      "dataClassification": "customer_service",
      "rateLimit": {
        "requests": 30,
        "window": 60000
      }
    }
  },
  {
    "id": "shopify-add-to-cart",
    "name": "Add to Cart",
    "description": "Add products to the shopping cart. Creates a new cart if cartId is not provided",
    "parameters": {
      "cartId": {
        "type": "string",
        "description": "Existing cart ID (optional)",
        "default": ""
      },
      "items": {
        "type": "array",
        "description": "Array of items to add with variantId and quantity"
      }
    },
    "required": [
      "items"
    ],
    "additionalProperties": false,
    "implementation": {
      "type": "local",
      "function": "addToShopifyCart",
      "args": [
        "cartId",
        "items"
      ],
      "timeout": 10000
    },
    "security": {
      "requiresAuth": false,
      "auditLevel": "medium",
      "dataClassification": "customer_service",
      "rateLimit": {
        "requests": 20,
        "window": 60000
      }
    }
  },
  {
    "id": "shopify-apply-discount",
    "name": "Apply Discount Code",
    "description": "Apply a discount or promo code to the cart",
    "parameters": {
      "cartId": {
        "type": "string",
        "description": "Cart ID"
      },
      "discountCode": {
        "type": "string",
        "description": "Discount code to apply"
      }
    },
    "required": [
      "cartId",
      "discountCode"
    ],
    "additionalProperties": false,
    "implementation": {
      "type": "local",
      "function": "applyShopifyDiscount",
      "args": [
        "cartId",
        "discountCode"
      ],
      "timeout": 5000
    },
    "security": {
      "requiresAuth": false,
      "auditLevel": "medium",
      "dataClassification": "financial",
      "rateLimit": {
        "requests": 10,
        "window": 60000
      }
    }
  },
  {
    "id": "shopify-search-policies",
    "name": "Search Store Policies",
    "description": "Search store policies, FAQs, return policy, shipping information, and contact details",
    "parameters": {
      "query": {
        "type": "string",
        "description": "Question about store policies"
      },
      "context": {
        "type": "string",
        "description": "Additional context",
        "default": ""
      }
    },
    "required": [
      "query"
    ],
    "additionalProperties": false,
    "implementation": {
      "type": "local",
      "function": "searchShopifyPolicies",
      "args": [
        "query",
        "context"
      ],
      "timeout": 5000
    },
    "security": {
      "requiresAuth": false,
      "auditLevel": "low",
      "dataClassification": "public",
      "rateLimit": {
        "requests": 20,
        "window": 60000
      }
    }
  },
  {
    "id": "shopify-lookup-orders",
    "name": "Lookup Customer Orders",
    "description": "Retrieve order history for a verified customer using phone or email. REQUIRES OTP verification first",
    "parameters": {
      "identifier": {
        "type": "string",
        "description": "Customer's verified phone number or email address"
      },
      "container": {
        "type": "object",
        "description": "Session container with OTP verification status"
      }
    },
    "required": [
      "identifier",
      "container"
    ],
    "additionalProperties": false,
    "implementation": {
      "type": "local",
      "function": "lookupCustomerOrders",
      "args": [
        "identifier",
        "container"
      ],
      "timeout": 15000
    },
    "security": {
      "requiresAuth": true,
      "authType": "otp",
      "auditLevel": "high",
      "dataClassification": "financial",
      "rateLimit": {
        "requests": 10,
        "window": 60000
      }
    }
  },
  {
    "id": "shopify-get-order-status",
    "name": "Get Order Status",
    "description": "Get detailed status of a specific order including tracking. REQUIRES OTP verification first",
    "parameters": {
      "orderNumber": {
        "type": "string",
        "description": "Order number (e.g., '#1001' or '1001')"
      },
      "identifier": {
        "type": "string",
        "description": "Customer's verified phone number or email address"
      },
      "container": {
        "type": "object",
        "description": "Session container with OTP verification status"
      },
      "validateIdentifier": {
        "type": "boolean",
        "description": "Whether to validate email/phone identifier"
      }
    },
    "required": [
      "orderNumber",
      "identifier",
      "container"
    ],
    "additionalProperties": false,
    "implementation": {
      "type": "local",
      "function": "getShopifyOrderStatus",
      "args": [
        "orderNumber",
        "identifier",
        "container"
      ],
      "timeout": 15000
    },
    "security": {
      "requiresAuth": true,
      "authType": "otp",
      "auditLevel": "high",
      "dataClassification": "financial",
      "rateLimit": {
        "requests": 10,
        "window": 60000
      }
    }
  },
  {
    "id": "shopify-store-availability",
    "name": "Find Nearest Stores With Stock",
    "description": "Find nearest stores that have a specific product variant in stock",
    "parameters": {
      "variantId": {
        "type": "string",
        "description": "Shopify product variant ID (e.g., 'gid://shopify/ProductVariant/12345')"
      },
      "city": {
        "type": "string",
        "description": "Customer's city to find nearest stores"
      },
      "storeLocations": {
        "type": "array",
        "description": "Array of store locations with coordinates"
      },
      "maxStores": {
        "type": "number",
        "description": "Maximum number of stores to return",
        "default": 3
      }
    },
    "required": [
      "variantId",
      "city",
      "storeLocations"
    ],
    "additionalProperties": false,
    "implementation": {
      "type": "local",
      "function": "findNearestStoresWithStock",
      "args": [
        "variantId",
        "city",
        "storeLocations",
        "maxStores"
      ],
      "timeout": 10000
    },
    "security": {
      "requiresAuth": false,
      "auditLevel": "low",
      "dataClassification": "public",
      "rateLimit": {
        "requests": 20,
        "window": 60000
      }
    }
  }
]